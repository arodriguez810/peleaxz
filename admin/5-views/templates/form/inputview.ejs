<%
var name = name || "";
var options = {
    placeholder: params.capitalize(name),
    model:1,
    icon: {
        class: "none",
        position: "left",
        color: COLOR.primary
    },
    helptext: ''

};
options = OBJECT.merge(options, opts);
var toclient = JSON.stringify(options);
%>
<script>
    <%= model %>.form.registerField("<%= name %>", "<%= toclient %>");
</script>
<div class="form-group-material form-group has-feedback has-{{<%= model %>.validation.getType('<%= name %>')}}  has-feedback-{{<%= model %>.form.options.<%= name %>.icon.position}}"
     id="input<%= name %>">
    <label
            class="control-label {{(<%= options.model %>)?'is-visible animate':''}}">
        {{<%= model %>.form.options.<%= name %>.placeholder}}
    </label>
    <input
            name="<%= name %>"
            readonly
            ng-disabled="<%= model %>.form.options.<%= name %>.disabled"
            type="text"
            value="<%= "{{"+options.model+"}}" %>"
            class="form-control"
            placeholder="{{<%= model %>.form.options.<%= name %>.placeholder}}">

    <div class="form-control-feedback">
        <i class="icon-{{<%= model %>.form.options.<%= name %>.icon.class}} text-{{<%= model %>.validation.getColor('<%= name %>',<%= model %>.form.options.<%= name %>.icon.color)}}">

        </i>
    </div>
    <span ng-show="<%= model %>.form.options.<%= name %>.helptext!=''"
          class="help-block text-muted">
        {{<%= model %>.form.options.<%= name %>.helptext}}
    </span>

    <span ng-show="<%= model %>.validation.getMessages('<%= name %>').length>0" class="help-block">
        <p ng-repeat="message in <%= model %>.validation.getMessages('<%= name %>')">
                {{message}}
        </p>
    </span>
</div>