{"version":3,"sources":["../source/xmlBrowser.js"],"names":["createDocument","content","DOMParser","parseFromString","select","doc","node","path","namespaces","nodes","evaluate","prefix","XPathResult","ANY_TYPE","results","result","iterateNext","push"],"mappings":"AAAA;AACA;AACA,eAAe;AACdA,eADc,0BACCC,OADD,EACU;AACvB,SAAO,IAAIC,SAAJ,GAAgBC,eAAhB,CAAgCF,OAAhC,EAAyC,UAAzC,CAAP;AACA,EAHa;AAKdG,OALc,kBAKPC,GALO,EAKFC,IALE,EAKIC,IALJ,EAK2B;AAAA,MAAjBC,UAAiB,uEAAJ,EAAI;;AACxC,MAAMC,QAAQJ,IAAIK,QAAJ,CACbH,IADa,EAEbD,QAAQD,GAFK,EAGb;AAAA,UAAUG,WAAWG,MAAX,CAAV;AAAA,GAHa,EAIbC,YAAYC,QAJC,EAKb,IALa,CAAd;AAOA;AACA,MAAMC,UAAU,EAAhB;AACA,MAAIC,SAASN,MAAMO,WAAN,EAAb;AACA,SAAOD,MAAP,EAAe;AACdD,WAAQG,IAAR,CAAaF,MAAb;AACAA,YAASN,MAAMO,WAAN,EAAT;AACA;AACD,SAAOF,OAAP;AACA;AArBa,CAAf","file":"xmlBrowser.js","sourcesContent":["// Using native `DOMParser` because `xpath` + `xmldom` doesn't work.\r\n// https://github.com/goto100/xpath/issues/85\r\nexport default {\r\n\tcreateDocument(content) {\r\n\t\treturn new DOMParser().parseFromString(content, 'text/xml')\r\n\t},\r\n\r\n\tselect(doc, node, path, namespaces = {}) {\r\n\t\tconst nodes = doc.evaluate(\r\n\t\t\tpath,\r\n\t\t\tnode || doc,\r\n\t\t\tprefix => namespaces[prefix],\r\n\t\t\tXPathResult.ANY_TYPE,\r\n\t\t\tnull\r\n\t\t)\r\n\t\t// Convert iterator to an array.\r\n\t\tconst results = []\r\n\t\tlet result = nodes.iterateNext()\r\n\t\twhile (result) {\r\n\t\t\tresults.push(result)\r\n\t\t\tresult = nodes.iterateNext()\r\n\t\t}\r\n\t\treturn results\r\n\t}\r\n}"]}